2006-10-10	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ica/Makefile.am:
	* ica/src/lock_widget.cpp:
	* ica/src/inject.cpp:
	* ica/src/inject.h:
	inject some code into winlogon.exe for safely disabling Secure Attention
	Sequence (SAS=Alt+Ctrl+Del) - much better than old solution which
	simply disabled task-mgr by security-policy

	* Makefile.am:
	* ica/src/ica_main.cpp:
	* utils-win32/HookNTQSI.dll:
	try to hide ICA-process using HookNTQSI.dll

2006-10-09	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/src/client.cpp:
	* ima/src/client_manager.cpp:
	made client-windows resizable

2006-10-08	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ica/src/vncview.h:
	* ica/src/vncview.cpp:
	revised whole key-event-handling, especially handling of modifiers -
	now things like holding <Alt> while switching apps with <Alt>+<Tab> are
	supported, <Control>+<any key> is now recognized (e.g. Ctrl+C), under
	Linux/X11 native translation of X-keycodes is done when compiling with
	Qt >= 4.2.0

	* ica/src/vncview.cpp:
	- do not pass QX11BypassWindowManagerHint to parent-widget as this
	  causes troubles with Qt 4.2.0 and things work without it as well
	- when viewing remote desktop, update every 70ms instead of 80ms

	* ica/src/demo_server.h:
	* ica/src/demo_server.cpp:
	- sleep less between updates of demo-screen (20ms instead of 25ms)
	- do check for cursor-movements with GUI-thread-affinity and send
	  actual changes within thread in which socket to client was created

	* ica/src/ica_main.cpp:
	renamed parameters "-installservice" and "-removeservice" to
	"-registerservice" and "-unregisterservice"

	* common/include/isd_connection.h:
	* ica/src/isd_server.cpp:
	introduced helper-class "isdForwarder" which is used by VNC-server-
	subprocess under Linux/X11 for forwarding all requests received by
	VNC-server to actual ISD-server in parent-process

	* ica/src/ica_main.cpp:
	* ica/src/ivs.cpp:
	* ica/src/ivs.h:
	* ica/src/demo_server.h:
	* ica/src/demo_server.cpp:
	* ica/src/vncview.cpp:
	under Linux/X11 VNC-server is now run in separate process which
	introduces several changes in the whole client-application

	* ica/src/isd_server.h:
	* ica/src/isd_server.cpp:
	* ica/src/ivs.cpp:
	* ica/win32/src/vncClient.cpp:
	removed global authSecTypeItalc()-method and made according function
	in isdServer static

	* common/include/ivs_connection.h:
	* common/src/ivs_connection.cpp:
	* ica/src/vncview.cpp:
	use QImage instead of QPixmap as image-container for cursor-shape
	which sometimes led to X-errors as dealing with QPixmap's in non-GUI-
	threads isn't safe

	* common/src/isd_connection.cpp:
	do not create QTcpSocket as child of isdConnection as isdConnection
	was created in another thread than the socket - fixes some bugs

	* common/include/italc_rfb_ext.h:
	* common/include/ivs_connection.h:
	* common/src/isd_connection.cpp:
	* common/src/ivs_connection.cpp:
	new authentication-mechanism: authentication via a file which is only
	readable by owner and over which challenge is transmitted

	* common/include/isd_base.h:
	* common/include/isd_connection.h:
	* common/include/local_system.h:
	* common/src/isd_connection.cpp:
	* common/src/local_system.cpp:
	* ica/src/isd_server.cpp:
	* ica/src/isd_server.h:
	* ima/src/main_window.cpp:
	port for demo-server is chosen before it is started - makes
	demoserver-port-info-response-message obsolete

2006-10-07	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/src/snapshot_list.cpp:
	do not crash when clicking one of the action-buttons while no item is
	selected

2006-10-06	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* configure.in:
	do not check for linux/videodev.h-header as not really needed and
	causes senseless warning

	* Makefile.svn:
	added for auto-creating files just removed from repository (see below)

	* aclocal.m4:
	* config.h.in:
	* config.guess:
	* config.sub:
	* configure:
	* depcomp:
	* install-sh:
	* missing:
	* Makefile.in:
	* common/Makefile.in:
	* ica/Makefile.in:
	* ima/Makefile.in:
	* utils-win32/Makefile.in:
	removed as these files should be generated on target-system

	* ima/src/client.h:
	* ima/src/client.cpp:
	enqueue all actions which need writing to socket and process queue by
	update-thread for using socket indeed only from one thread - supresses
	some warnings and maybe iTALC also runs better

	* ima/src/client_manager.cpp:
	sleep 2 seconds between mode-changes of clients for avoiding troubles
	with demo-server

	* ima/src/main.cpp:
	register quint16 as Qt-metatype at application-startup

	* ica/src/service.cpp:
	misc cleanups

2006-09-27	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/src/client.cpp:
	in updater-thread: only reload client if it is visible

	* ima/src/main.cpp:
	register meta-type QModelIndex

	* ima/src/support_widget.cpp:
	use dynamic_cast for casting layout, as Qt4-MinGW-X is now built with
	rtti-support and therefore doesn't make problems anymore

	* common/src/local_system.cpp:
	before trying to create path, check whether it already exists! makes
	it possible to make snapshots etc.

2006-09-18	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/src/client.h:
	* ima/src/client.cpp:
	* ima/src/main_window.cpp:
	create threads for each client for reloading it instead of doing that
	in one loop in main-window-updater-thread - if one client hangs, it
	doesn't block the others anymore

	* common/include/isd_base.h:
	in socketDevice::socketDevice, pass Unbuffered-flag to open() for
	making iTALC work with Qt 4.2

2006-09-07	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/resources/de.ts:
	updated German translation

	* ima/src/client_manager.cpp:
	* ima/src/config_widget.h:
	* ima/src/config_widget.cpp:
	* ima/src/tool_button.h:
	* ima/src/tool_button.cpp:
	added option for disabling balloon-tooltips for toolbar-buttons

	* ima/dialogs/config.ui:
	* ima/resources/userinterface.png:
	* ima/italc.qrc:
	* ima/src/config_widget.h:
	* ima/src/config_widget.cpp:
	- re-made config-workspace using ui-designer
	- warn user when selecting local loopback as net-iface

	* ima/dialogs/client_settings.ui:
	corrected tab-order of input-fields

	* common/include/isd_connection.h:
	* common/include/local_system.h:
	* common/src/isd_connection.cpp:
	* common/src/local_system.cpp:
	* ima/src/client.cpp:
	implemented WOL under win32

2006-09-05	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* common/src/local_system.cpp:
	re-activated username-code using external userinfo-tool

	* ica/src/ica_main.h:
	* ica/src/ica_main.cpp:
	* ica/src/service.h:
	* ica/src/service.cpp:
	added service-functionality under win32

2006-09-04	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* common/src/isd_connection.cpp:
	handle ItalcAuthNone

	* ica/src/demo_server.h:
	* ica/src/demo_server.cpp:
	- create client-sockets within according threads (using
	  socket-descriptors) - fixes segfaults and other bugs on SMP-systems
	- do not rely on readyRead()-signal, use QTimer::singleShot instead

	* ica/src/isd_server.cpp:
	when doing host-based auth., pass _user-ptr to socket-dispatcher-call
	for getting peer address - fixes crash of ica when acting as
	demo-master

2006-09-01	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ica/x11/libvncserver/auth.c:
	* ica/src/isd_server.cpp:
	* ica/src/ivs.cpp:
	- enabled security-mechanisms
	- fixed bugs in authentication via DSA-keys

	* ica/src/isd_server.cpp:
	- bugfixes in support for host-based auth.

	* common/src/ivs_connection.cpp:
	when running for demo-purposes, use app-internal-auth-mechanism

	* ica/src/demo_server.cpp:
	- first attempts to fix similiar bugs as in ivs.cpp (multithreading)
	- do a host-based auth. for demo-clients instead of app-internal

	* ica/src/ivs.cpp:
	- build command-line-stuff within thread in which VNC-server will run
	  later (fixes segfaults on Linux-SMP-machines)

	* common/src/isd_connection.cpp:
	- initialize privDSAKey before using it when still zero within
	  authAgainstServer()
	- made __role a global variable
	- support for host-based auth.

2006-08-30	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* Makefile.am:
	added missing entries for copying win32-utils and mingwm10.dll into
	win32-package

2006-08-28	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/include/main_window.h:
	* ima/src/client.cpp:
	* ima/src/core/client_manager.cpp:
	* ima/src/core/config_widget.cpp:
	* ima/src/core/main.cpp:
	completely revised demo-master-stuff using QNetworkInterface-class

	* ima/src/3rdparty/*:
	* ima/src/qnetworkinterface.cpp:
	* ima/src/qnetworkinterface.h:
	added implementation of QNetworkInterface from recent Qt 4.2-snapshot

	* ima/src/client.cpp:
	- use localSystem::ensurePathExists() before trying to save a snapshot
	- when quitting iTALC, change mode of all clients to overview-mode
	- draw semi-transparent background for toolbar

2006-08-22	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* common/src/ivs_connection.cpp:
	- update software-cursor when remote-controlling
	- disabled XCursor-support as it's buggy under Win32

	* ima/src/client.cpp:
	when re-entering view-only-mode, check do not crash if passed
	connection-pointer is NULL

	* utils-w32/userinfo.cpp:
	added userinfo-utility

	* configure.in:
	* Makefile.am:
	* utils-w32/:
	added directory for several utils used by win32-version of localSystem

	* common/src/local_system.cpp:
	(Win32)
	as there're problems when using functions from netapi32.dll we can't
	use some functions we need for getUserName(), therefore this code has
	been moved to "userinfo"-utility which is called periodically by
	userPollThread - localSystem::currentUser() now returns what the
	userPollThread received when launching userinfo

2006-08-18	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/src/client.cpp:
	do not reload user-name each time screen is being updated, instead do
	only if user-name not set so far or is "unknown"

	* common/src/local_system.cpp:
	completely new code for retrieving user-name and his full name of
	logged in user under win

2006-08-17	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* common/src/local_system.cpp:
	correct system-calls for shutting down, rebooting and logging off user

	* ima/src/client.cpp:
	bugfixes

2006-08-16	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* common/src/ivs_connection.cpp:
	fixed some bugs in palette-filter/tight-encoding which were
	responsible for grave graphic-errors in some cases (when using
	mono-palette)

	* common/include/ivs_connection.h:
	* common/src/ivs_connection.cpp:
	added Zlib-encoding

	* common/include/rfb/rfbint.h:
	* common/include/rfb/rfbconfig.h:
	removed as generated by configure

	* ima/resources/splash.png:
	new modern splash-screen

2006-08-15	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* common/src/ivs_connection.cpp:
	disabled tight- and zlib-encoding for the moment as it causes
	graphic-errors when connecting to Win32-VNC-server

	* ima/src/client.cpp:
	* ima/src/client_manager.cpp:
	fixes with bool-vars

	* ima/src/config_widget.cpp:
	* ima/src/support_widget.cpp:
	do a static_cast instead of dynamic_cast for getting pointer to layout
	of parent - HACK for make app working on Win32/MinGW which has a problem
	with dynamic_cast

	* ima/src/kmultittabbar.cpp:
	commented out some stuff which is does not work on Win32

	* configure.in:
	* ica/x11/:
	* ica/x11/x11vnc.c:
	upgraded to x11vnc 0.8.3

2006-08-14	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ica/src/ica_main.cpp:
	* ica/src/isd_server.cpp:
	* common/include/isd_base.cpp:
	* common/src/dsa_key.cpp:
	* common/src/isd_connection.cpp:
	* ima/src/client.cpp:
	* ima/src/client_manager.cpp:
	* ima/src/main.cpp:
	* ima/src/main_window.cpp:
	* ima/src/snapshot_list.cpp:
	* ima/src/snapshot_list.h:
	use new methods from localSystem-namespace for retrieving information
	where to store keys and settings

	* common/include/local_system.h:
	* common/src/local_system.cpp:
	added methods for platform-independent storage of keys and settings:
	  - privateKeyPath()
	  - publicKeyPath()
	  - snapshotDir()
	  - globalConfigPath()
	  - personalConfigDir()
	  - personalConfigPath()
	  - ensurePathExists()

	* ima/src/dialogs.h:
	made derivation from ui-classes private

	* common/include/paths.h:
	removed

	* AUTHORS:
	cleaned up as now the whole code-base is what I worked out

	* ima/src/client_manager.cpp:
	* ima/src/client.cpp:
	- do not include (not existing) dialog-specific header-files, use
	  dialogs.h instead
	- replace msgInputDialog-references with textMessageDialog

	* ima/src/about_dialog.h:
	* ima/src/about_dialog.cpp:
	* ima/src/client_settings_dialog.h:
	* ima/src/client_settings_dialog.cpp:
	* ima/src/msg_input_dialog.h:
	* ima/src/msg_input_dialog.cpp:
	removed

	* ima/src/dialog.cpp:
	* ima/src/dialog.h:
	* ima/dialogs/text_message.ui:
	added text-message-dialog as replacement of msgInputDialog

	* ima/src/support_widget.h:
	* ima/src/support_widget.cpp:
	removed code for dialog

	* ima/src/dialogs.h:
	* ima/src/dialogs.cpp:
	moved code from about_dialog.*, client_settings_dialog.* and
	support_widget.* into these files for having one central include-
	and implementation-file for dialogs

	* Makefile.am:
	added target "win32-pkg" for creating distribution-zip-file of iTALC
	including neccessary DLLs

	* configure.in:
	changed some optimization-flags

2006-07-24	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ica/Makefile.am:
	added missing files in EXTRA_DIST-section

	* ica/src/lock_widget.cpp:
	pass 0L instead of NULL as third argument to RegSetValueEx(...)-call
	to avoid compiler-warning

	* ica/src/win32/...:
	added missing files

	* common/src/local_system.cpp:
	corrected shutdown-calls under win32 ("-t 0" instead of "-t0")

2006-07-21	Tobias Doerffel	<tobydox/at/users/dot/sourceforge/dot/net>

	* ima/src/support_widget.h:
	* ima/src/support_widget.cpp:
	* ima/dialogs/support.ui:
	added dialog for supporting on arbitrary clients

	* ima/src/help_widget.cpp:
	* ima/src/help_widget.h:
	moved to support_widget.*
